<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cafe Kiosk</title>
    <link rel="stylesheet" href="kioskCafe.css">
</head>
<body>
    <div class="wrap">
      <div class="section1">
        <div class="order_menu">
          <div class="header">
            <img src="/Kiosk/images/logo.png">
            <div>
              <h1 id="head"> BANANA COFFEE</h1>
              <p>Enjoy a journey of sweetness!</p>
            </div>
          </div>
          
          <div class="category">
            
            <div id="ctgBtn">
              
            </div>
          </div>
          <div id="menubox"></div>
        </div>
        
        <div class="popup">
          <div class="order_list">
            <h2>주문내역</h2>
            <div id="orderbox"></div>
          </div>
        </div>
      </div>

      <div class="section2">
       <div class="order_result">
          <h2>결 제 금 액 : <span id="pay"></span></h2>
          <button id="btn">결 제 하 기</button>
      </div>
    </div>
    

    <script>
      // 메뉴 데이터
        let menus = [
            { id: 0, name: '아메리카노', type: 'HOT', price: 1000,quantity:0, icon:'/Kiosk/images/hot.png', category:0},
            { id: 1, name: '아메리카노', type: 'ICE', price: 1300,quantity:0, icon:'/Kiosk/images/ice.png', category:0 },
            { id: 2, name: '바닐라라떼', type: 'HOT', price: 2500,quantity:0, icon:'/Kiosk/images/hot.png', category:0 },
            { id: 3, name: '바닐라라떼', type: 'ICE', price: 2800,quantity:0, icon:'/Kiosk/images/ice.png', category:0 },
            { id: 4, name: '연유라떼', type: 'HOT', price: 2500,quantity:0, icon:'/Kiosk/images/hot.png', category:0 },
            { id: 5, name: '연유라떼', type: 'ICE', price: 2800,quantity:0, icon:'/Kiosk/images/ice.png', category:0 },
            { id: 6, name: '카라멜마끼아또', type: 'HOT', price: 2800,quantity:0, icon:'/Kiosk/images/hot.png', category:0 },
            { id: 7, name: '카라멜마끼아또', type: 'ICE', price: 3000,quantity:0, icon:'/Kiosk/images/ice.png', category:0 },
            { id: 8, name: '카페모카', type: 'HOT', price: 3000,quantity:0, icon:'/Kiosk/images/hot.png', category:0 },
            { id: 9, name: '카페모카', type: 'ICE', price: 3300,quantity:0, icon:'/Kiosk/images/ice.png', category:0 },
            { id: 10, name: '딥카페라테', type: 'HOT', price: 3400,quantity:0, icon:'/Kiosk/images/hot.png', category:0 },
            { id: 11, name: '딥카페라테', type: 'ICE', price: 3700,quantity:0, icon:'/Kiosk/images/ice.png', category:0 },
            // -------------------------------------------------------------------------------------------------------------
            { id: 12, name: '플레인요거트', type: 'ICE', price: 3700,quantity:0, icon:'/Kiosk/images/drinks.png' , category:1},
            { id: 13, name: '레몬에이드', type: 'ICE', price: 1000,quantity:0, icon:'/Kiosk/images/drinks.png', category:1},
            { id: 14, name: '자몽에이드', type: 'ICE', price: 1300,quantity:0, icon:'/Kiosk/images/drinks.png', category:1 },
            { id: 15, name: '핫초콜렛', type: 'HOT', price: 2500,quantity:0, icon:'/Kiosk/images/drinks.png' , category:1},
            { id: 16, name: '아이스초코', type: 'ICE', price: 2800,quantity:0, icon:'/Kiosk/images/drinks.png' , category:1},
            { id: 17, name: '그린티', type: 'HOT', price: 2500,quantity:0, icon:'/Kiosk/images/drinks.png' , category:1},
            { id: 18, name: '아이스티', type: 'ICE', price: 2800,quantity:0, icon:'/Kiosk/images/drinks.png' , category:1},
            { id: 19, name: '망고프라페', type: 'HOT', price: 2800,quantity:0, icon:'/Kiosk/images/drinks.png' , category:1},
            { id: 20, name: '딸리쉐이크', type: 'ICE', price: 3000,quantity:0, icon:'/Kiosk/images/drinks.png' , category:1},
            { id: 21, name: '밀크쉐이크', type: 'HOT', price: 3000,quantity:0, icon:'/Kiosk/images/drinks.png' , category:1},
            { id: 22, name: '바나나쉐이크', type: 'ICE', price: 3300,quantity:0, icon:'/Kiosk/images/drinks.png' , category:1},
            { id: 23, name: '초코쉐이크', type: 'HOT', price: 3400,quantity:0, icon:'/Kiosk/images/drinks.png' , category:1},
            // -------------------------------------------------------------------------------------------------------------
            { id: 24, name: '베이글', type: '바질어니언', price: 1000,quantity:0, icon:'/Kiosk/images/bread.png', category:2},
            { id: 25, name: '베이글', type: '플레인', price: 1300,quantity:0, icon:'/Kiosk/images/bread.png' , category:2},
            { id: 26, name: '스콘', type: 'HOT', price: 2500,quantity:0, icon:'/Kiosk/images/bread.png' , category:2},
            { id: 27, name: '페스츄리', type: 'ICE', price: 2800,quantity:0, icon:'/Kiosk/images/bread.png' , category:2},
            { id: 28, name: '맘모스빵', type: 'HOT', price: 2500,quantity:0, icon:'/Kiosk/images/bread.png' , category:2},
            { id: 29, name: '소세지롤', type: 'ICE', price: 2800,quantity:0, icon:'/Kiosk/images/bread.png' , category:2},
            { id: 30, name: '비프파이', type: 'HOT', price: 2800,quantity:0, icon:'/Kiosk/images/bread.png' , category:2},
            { id: 31, name: '치킨파이', type: 'ICE', price: 3000,quantity:0, icon:'/Kiosk/images/bread.png' , category:2},
            { id: 32, name: '초코케이크', type: 'HOT', price: 3000,quantity:0, icon:'/Kiosk/images/bread.png' , category:2},
            { id: 33, name: '생크림케이크', type: 'ICE', price: 3300,quantity:0, icon:'/Kiosk/images/bread.png' , category:2},
            { id: 34, name: '딸기케이크', type: 'HOT', price: 3400,quantity:0, icon:'/Kiosk/images/bread.png' , category:2},
            { id: 35, name: '망고케이크', type: 'ICE', price: 3700,quantity:0, icon:'/Kiosk/images/bread.png' , category:2},
            // -------------------------------------------------------------------------------------------------------------
            { id: 36, name: '스테이크', type: 'ICE', price: 28000,quantity:0, icon:'/Kiosk/images/etc.png' , category:3},
            { id: 37, name: '갈비샌드위치', type: 'HOT', price: 25000,quantity:0, icon:'/Kiosk/images/etc.png' , category:3},
            { id: 38, name: '삼겹샌드위치', type: 'ICE', price: 28000,quantity:0, icon:'/Kiosk/images/etc.png' , category:3},
            { id: 39, name: '오징어회', type: 'HOT', price: 2000,quantity:0, icon:'/Kiosk/images/etc.png' , category:3},
            { id: 40, name: '오일파스타', type: 'ICE', price: 30000,quantity:0, icon:'/Kiosk/images/etc.png' , category:3},
            { id: 41, name: '시나몬파우더', type: 'HOT', price: 30000,quantity:0, icon:'/Kiosk/images/etc.png' , category:3},
            { id: 42, name: '헝그리잭스', type: 'ICE', price: 33000,quantity:0, icon:'/Kiosk/images/etc.png' , category:3},
            { id: 43, name: '애플비네거', type: 'HOT', price: 34000,quantity:0, icon:'/Kiosk/images/etc.png' , category:3},
            { id: 44, name: '스리라차', type: '바질어니언', price: 10000,quantity:0, icon:'/Kiosk/images/etc.png', category:3},
            { id: 45, name: '페페로니피자', type: '플레인', price: 13000,quantity:0, icon:'/Kiosk/images/etc.png' , category:3},
            { id: 46, name: '고즐레메', type: 'HOT', price: 25000,quantity:0, icon:'/Kiosk/images/etc.png' , category:3},
            { id: 47, name: '피타세트', type: 'ICE', price: 28000,quantity:0, icon:'/Kiosk/images/etc.png' , category:3},
        ];
      // 본문 메뉴 불러오기 + 아이콘 클릭 시 메뉴 수량 증가
        let menubox = document.getElementById('menubox');
        
        let icon = '';
        for (let i = 0; i < menus.length; i++) {
              icon +=  
                `<button class="click" onclick="increase(${i})">
                <img src = "${menus[i].icon}"> <br/> 
                <p>${menus[i].name} - ${menus[i].type}</p>
                <p>${menus[i].price.toLocaleString('ko-kr')}원</p>
                </button>`;
              }
      
      //메뉴 + 카테고리 생성
        let ctgBtn = document.getElementById('ctgBtn');
          let btn =  
          `<h2 class="menu" onclick="display(-1)">MENU</h2>
          <button type="button" id="coffee" onclick="display(0)">커피</button>
            <button type="button" id="drinks" onclick="display(1)">음료수</button>
            <button type="button" id="dessert" onclick="display(2)">디저트</button>
            <button type="button" id="dessert" onclick="display(3)">기타</button>`;
            ctgBtn.outerHTML = btn;
        let ctgCounter = 0;
        function display(ctgNum){
        
        // 원시적 코드 -> fot, if 사용해서 짧게 만들고 싶었음
          if (ctgNum === 0){
            icon = '';
            for (let i = 0; i <= 11; i++) {
                icon +=  
                  `<button class="click" onclick="increase(${i})">
                  <img src = "${menus[i].icon}"> <br/> 
                  <p>${menus[i].name} - ${menus[i].type}</p>
                  <p>${menus[i].price.toLocaleString('ko-kr')}원</p>
                  </button>`;
            }
          }
          else if (ctgNum === 1){
            icon = '';
            for (let i = 12; i <= 23; i++) {
                icon +=  
                  `<button class="click" onclick="increase(${i})">
                  <img src = "${menus[i].icon}"> <br/> 
                  <p>${menus[i].name} - ${menus[i].type}</p>
                  <p>${menus[i].price.toLocaleString('ko-kr')}원</p>
                  </button>`;
            }
          } else if (ctgNum === 2){
            icon = '';
            for (let i = 24; i <= 35; i++) {
                icon +=  
                  `<button class="click" onclick="increase(${i})">
                  <img src = "${menus[i].icon}"> <br/> 
                  <p>${menus[i].name} - ${menus[i].type}</p>
                  <p>${menus[i].price.toLocaleString('ko-kr')}원</p>
                  </button>`;
            }
          } else if (ctgNum === 3){
            icon = '';
            for (let i = 36; i <= 47; i++) {
                icon +=  
                  `<button class="click" onclick="increase(${i})">
                  <img src = "${menus[i].icon}"> <br/> 
                  <p>${menus[i].name} - ${menus[i].type}</p>
                  <p>${menus[i].price.toLocaleString('ko-kr')}원</p>
                  </button>`;
            }
          } 
          else if(ctgNum === -1){
            icon = '';
            for (let i = 0; i < menus.length; i++) {
                icon +=  
                  `<button class="click" onclick="increase(${i})">
                  <img src = "${menus[i].icon}"> <br/> 
                  <p>${menus[i].name} - ${menus[i].type}</p>
                  <p>${menus[i].price.toLocaleString('ko-kr')}원</p>
                  </button>`;
            }
          }
          console.log(icon);
          menubox.innerHTML = icon;
        }
        display();


      // 클릭 시 수량, 가격 변경 함수
        function clickFC() {
        let orderbox = document.getElementById('orderbox');
        let pay = document.getElementById('pay');
        let result = '<ul>';
        let totalPay = 0;

        for (let i=0; i<menus.length; i++) {
          if (menus[i].quantity > 0) {
            result +=
            `
              <li class="orlist">
                <div class="listicon">
                  <img id = "li1" src="${menus[i].icon}">
                  <div>
                    <p id = "li2">${menus[i].name}-${menus[i].type}<br>
                    ${menus[i].quantity}개 | 
                    ${(menus[i].price*menus[i].quantity).toLocaleString()}원</p>
                  
                  <p><button onclick="increase(${i})">+</button>
                  <button onclick="decrease(${i})">-</button>
                  <button onclick="remove(${i})">선택취소</button></p>
                  </div>
                </div>
              </li>
            <hr>`;
            totalPay += menus[i].price * menus[i].quantity;
          }
        }
        result += '</ul>';
        orderbox.innerHTML = result;
        pay.innerHTML = totalPay.toLocaleString('ko-kr')+'원';
      }
      clickFC();



      // 버튼 조작 시 수량 변경 함수
      function increase(indexNum){
            if(menus[indexNum].quantity < 10){
                        menus[indexNum].quantity++;
            } else {
                    alert('수량은 10개까지만 가능합니다');
                }
            clickFC(); 
      }
      function decrease(indexNum){
                menus[indexNum].quantity--;
            clickFC();
      }
      function remove(indexNum){
            menus[indexNum].quantity = 0;
            clickFC();
      }
            
    </script>
</body>
</html>