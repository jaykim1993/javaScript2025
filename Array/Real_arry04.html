<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Array 실습 문제04</title>
    <style>
    </style>
</head>
<body>
    <h3>투표 결과</h3>
    <button type="button" onclick="scriptFunc()">투표 집계</button>
    <p id="output"></p>
    
    <script>
        function scriptFunc(){
            let output = document.getElementById('output'); 
            let canName = ['철수','영희','민수'];
            let voteValue  = [120,150,90];
            
            
            //등수 배열 구하기
            let canRank = [];
            // for문 내에서, 투표 결과값을 비교하며, i가 j보다 작으면 rank에 1씩 더한다.
            for (let i = 0; i < voteValue.length; i++) {
                let rank = 1; // 처음 rank = 1 세팅한다.
                for (let j = 0; j < voteValue.length; j++) {
                    if (voteValue[i] < voteValue[j]) {
                        rank++;
                    }
                }
                canRank.push(rank); //  전체 다 비교 하고 그 값을 canRank[i]에 push한다.
            }
            

            // // 최대값 구하기
            // let maxValue = voteValue[0];
            // // for문 내에서 최댓값에 비교하여 그 값을 정한다
            // for(let i = 0; i<voteValue.length;i++){
            //     if(voteValue[i]>maxValue){
            //         maxValue = voteValue[i];
            //     }
            // }console.log(maxValue);

            
            //output1: 최종 당선인 구하기
            let index = canRank.indexOf(1); // 득표수 1위의 인덱스 값 뽑기
            console.log(index);
            console.log(canName[index]); // 득표수 1위의 인덱스 값으로 이름 뽑기
            console.log(voteValue[index]); // 득표수 1위의 인덱스 값으로 투표수 뽑기
            output1.innerHTML = '당선인은 '+ `<span class="Red">${voteValue[index]}</span>표를 획득한  <span class="underline">${canName[index]}</span>입니다!`;
            
            

        }
    </script>
</body>
</html>